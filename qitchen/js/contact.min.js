import"./app.min.js";function P(i,e,t,s){function a(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(c){try{h(s.next(c))}catch(n){o(n)}}function p(c){try{h(s.throw(c))}catch(n){o(n)}}function h(c){c.done?r(c.value):a(c.value).then(l,p)}h((s=s.apply(i,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function L(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var S,k;function O(){return k||(k=1,S=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,a,r;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(a=s;a--!==0;)if(!i(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),s=r.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(a=s;a--!==0;){var o=r[a];if(!i(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),S}var F=O(),C=L(F);const M="__googleMapsScriptId";var w;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(w||(w={}));class g{constructor({apiKey:e,authReferrerPolicy:t,channel:s,client:a,id:r=M,language:o,libraries:l=[],mapIds:p,nonce:h,region:c,retries:n=3,url:u="https://maps.googleapis.com/maps/api/js",version:d}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=s,this.client=a,this.id=r||M,this.language=o,this.libraries=l,this.mapIds=p,this.nonce=h,this.region=c,this.retries=n,this.url=u,this.version=d,g.instance){if(!C(this.options,g.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(g.instance.options)}`);return g.instance}g.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?w.FAILURE:this.done?w.SUCCESS:this.loading?w.LOADING:w.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(s=>{s?t(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(r=>!s[r]&&delete s[r]),!((t=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(r=>{let o,l,p,h="The Google Maps JavaScript API",c="google",n="importLibrary",u="__ib__",d=document,y=window;y=y[c]||(y[c]={});const b=y.maps||(y.maps={}),v=new Set,m=new URLSearchParams,E=()=>o||(o=new Promise((f,T)=>P(this,void 0,void 0,function*(){var I;yield l=d.createElement("script"),l.id=this.id,m.set("libraries",[...v]+"");for(p in r)m.set(p.replace(/[A-Z]/g,A=>"_"+A[0].toLowerCase()),r[p]);m.set("callback",c+".maps."+u),l.src=this.url+"?"+m,b[u]=f,l.onerror=()=>o=T(Error(h+" could not load.")),l.nonce=this.nonce||((I=d.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",d.head.append(l)})));b[n]?console.warn(h+" only loads once. Ignoring:",r):b[n]=(f,...T)=>v.add(f)&&E().then(()=>b[n](f,...T))})(s);const a=this.libraries.map(r=>this.importLibrary(r));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),r=>{const o=new ErrorEvent("error",{error:r});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const D="AIzaSyDRypTXg6PL9POav3-fhnkv5QFIVetzzpM",_=[{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#DFC271"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#333333"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#2a2a2a"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#575757"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#202020"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#DFC271"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#a76a00"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#1c1c1c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f2f2f"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#282828"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}];function R(){const i={section:"[data-fls-map]",marker:"[data-fls-map-marker]",map:"[data-fls-map-body]"},e=document.querySelectorAll(i.section);if(!e.length)return;const t=async a=>{const r=new g({apiKey:D,version:"weekly",libraries:["places"]});try{const{Map:o}=await r.importLibrary("maps"),{AdvancedMarkerElement:l}=await r.importLibrary("marker"),p=await r.importLibrary("core");a({Map:o,AdvancedMarkerElement:l,Core:p})}catch(o){console.log(o)}},s=async({api:a,lng:r,lat:o,markersData:l,zoom:p,maxZoom:h,$map:c})=>{const n={maxZoom:h,zoom:15,mapTypeControl:!1,center:{lat:o,lng:r},disableDefaultUI:!0,styles:_},u=new a.Map(c,n);return l.map(({lat:d,lng:y,icon:b,title:v,markerZoom:m,markerPopup:E})=>{const f=new google.maps.Marker({position:{lat:d,lng:y},map:u,title:v,icon:b||null});return f.addListener("click",()=>{m.enable&&u.setZoom(+m.value||10),E.enable&&window.flsPopup&&window.flsPopup.open(E.value),u.panTo(f.getPosition())}),f}),u};t(a=>{e.forEach(r=>{const o=r.querySelectorAll(i.map);o.length&&o.forEach(l=>{const p=l.parentElement.querySelectorAll(i.marker),h=Array.from(p).map(n=>({lng:parseFloat(n.dataset.flsMapLng)||0,lat:parseFloat(n.dataset.flsMapLat)||0,icon:n.dataset.flsMapIcon,title:n.dataset.flsMapTitle,markerZoom:{enable:n.hasAttribute("data-fls-map-marker-zoom"),value:n.dataset.flsMapMarkerZoom},markerPopup:{enable:n.hasAttribute("data-fls-map-marker-popup"),value:n.dataset.flsMapMarkerPopup}})),c=s({api:a,$map:l,lng:parseFloat(l.dataset.flsMapLng)||0,lat:parseFloat(l.dataset.flsMapLat)||0,zoom:parseFloat(l.dataset.flsMapZoom)||6,maxZoom:parseFloat(l.dataset.flsMapMaxZoom)||18,markersData:h})})})})}document.querySelector("[data-fls-map]")&&window.addEventListener("load",R);
